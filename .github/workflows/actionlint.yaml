---
# Separate the workflow for actionlint to other workflows, because if a workflow for actionlint is broken actionlint isn't run
name: actionlint
on:
  pull_request:
    paths:
      - .github/workflows/*.yaml
      - .github/aqua/imports/actionlint.yaml
      - .github/aqua/imports/reviewdog.yaml

env:
  AQUA_CONFIG: .github/aqua/ci.yaml
  AQUA_LOG_COLOR: always

jobs:
  job1:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@8e5e7e5ab8b370d6c329ec480221332ada57f0ab # v3.5.2
      - uses: aquaproj/aqua-installer@294926f94b4233f202a2f03875c604f840cfed70 # v2.1.1
        with:
          aqua_version: v2.8.0
      - run: |
          echo $AQUA_CONFIG
          ghcp -v
          ghalint -v
  actionlint:
    uses: suzuki-shunsuke/actionlint-workflow/.github/workflows/actionlint.yaml@b6a5f966d4504893b2aeb60cf2b0de8946e48504 # v0.5.0
    with:
      aqua_version: v2.9.0
      aqua_policy_allow: true
    permissions:
      pull-requests: write
      contents: read